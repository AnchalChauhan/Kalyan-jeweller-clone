/*! Thu Dec 23 2021 07:17:32 */

var prContentMerged=!1,isDOMAlreadyLoaded=!1,mouseOrTouchDetected=!1,documentReadyEventListenerAdded=!1,n7DEBUG=!0,userAddress={},ajaxworker_path=window.location.protocol+"//"+window.location.host+"/n7-ajaxworker.min.js",sendMessage=null,imageFileRegex=new RegExp(".*\\.(jpg|jpeg|png|webp|gif|ico|svg|bmp)(\\?.*)*$"),scriptFileRegex=new RegExp(".*\\.js(\\?.*)*$"),styleFileRegex=new RegExp(".*\\.css(\\?.*)*$"),fontFileRegex=new RegExp(".*\\.(woff|woff2|ttf|eot|otf)(\\?.*)*$"),audioFileRegex=new RegExp(".*\\.(mp3)(\\?.*)*$"),videoFileRegex=new RegExp(".*\\.(mp4|ogg|webm)(\\?.*)*$"),jsonFileRegex=new RegExp(".*\\.json(\\?.*)*$"),headlessCheck=!0;function logInfo(){n7DEBUG&&console.debug.apply(null,arguments)}function logWarn(){console.warn.apply(null,arguments)}function logError(){console.error.apply(null,arguments)}function getAllElementsWithAttribute(e){return document.querySelectorAll(e)}function insertScriptInPage(e,t,n,r,o,i,a){var s=document.getElementsByTagName(e)[0],c=document.createElement("script");if(c.type=i||"text/javascript",c.src=n,r&&(c.aync=!0),o&&(c.defer=!0),null!=a)for(var g=0;g<a.length;g++)for(var l in a[g])a[g].hasOwnProperty(l)&&(c[l]=a[g][l]);t?s.appendChild(c):s.insertBefore(c,s.firstChild),logInfo("script ["+n+"]"+(r?" [async]":"")+(o?" [defer]":"")+" inserted in page")}function getPreloadType(e){return imageFileRegex.test(e)?"image":scriptFileRegex.test(e)?"script":styleFileRegex.test(e)?"style":fontFileRegex.test(e)?"font":audioFileRegex.test(e)?"audio":videoFileRegex.test(e)?"video":jsonFileRegex.test(e)?"fetch":"document"}function insertLinkInPage(e,t,n,r,o){var i=document.getElementsByTagName("head")[0],a=document.createElement("link");if(null!=e&&(a.rel=e),a.href=t,null!=n&&(a.as=n),null!=r&&(a.media=r),null!=o)for(var s=0;s<o.length;s++)for(var c in o[s])o[s].hasOwnProperty(c)&&(a[c]=o[s][c]);i.appendChild(a),logInfo("link ["+e+"] ["+t+"] inserted in page")}function executeFunctionByName(e,t){for(var n=new Array,r=1;r<arguments.length;r++)n.push(arguments[r]);var o=e.split("."),i=o.pop();for(r=0;r<o.length;r++)t=t[o[r]];return logInfo("executing "+e),logInfo(n),t[i].apply(t,arguments)}function isHeadless(){if(headlessCheck){if(null!=window.navigator.userAgent&&(window.navigator.userAgent.toLowerCase().includes("ptst")||window.navigator.userAgent.toLowerCase().includes("lighthouse")||window.navigator.userAgent.toLowerCase().includes("gtmetrix")))return!0;if(/HeadlessChrome/.test(window.navigator.userAgent))return!0;if(navigator.webdriver)return!0}return!1}function mergeProgressivelyRenderedContentinDOM(e,t,n,r){var o=e.trim();let i=new DOMParser;var a=i.parseFromString(o,"text/html").querySelectorAll("span[id*='nv']");for(let e in t)for(let n of a)if(n.id==t[e]&&null!=document.querySelector("#"+t[e])){var s=document.getElementById(t[e]);if("html"==r)s.outerHTML=n.innerHTML;else if("javascript"==r){var c=i.parseFromString(n.innerHTML,"text/html").querySelector("script"),g=document.createElement("script"),l=c.text;try{g.appendChild(document.createTextNode(l))}catch(e){g.text=l}for(let e of c.attributes)g.setAttribute(e.name,e.value);s.parentElement.replaceChild(g,s)}}prContentMerged=!0}var checkFunctionObjectAndCallWithParams=function(e,t){var n=window[e];"function"==typeof n&&n.apply(null,t)},mergeTriggersEventDataCollection=[],processMergeTriggerEventsHandler=function(){for(logInfo("processing the ajax event handlers");mergeTriggersEventDataCollection.length>0;){var e=mergeTriggersEventDataCollection.shift();logInfo("merging now."),checkFunctionObjectAndCallWithParams(e.mergeTriggerPreHookFunction,[e.key,e.progressivelyRenderingURL,e]),mergeProgressivelyRenderedContentinDOM(e.data,e.HtmlBindIDs,e.key,e.dataType),checkFunctionObjectAndCallWithParams(e.mergeTriggerPostHookFunction,[e.key,e.progressivelyRenderingURL])}mergeTriggersEventDataCollection=[]},fetchTriggersUrlCollection=[],processFetchTriggerEventsHandler=function(){for(logInfo("processing the fetch triggers");fetchTriggersUrlCollection.length>0;){var e=fetchTriggersUrlCollection.shift();logInfo("fetching now.");var t=e.ajaxWorker,n=e.progressivelyRenderingURL,r=e.httpMethod,o=e.makeUnique,i=e.sendHeadersOnly,a=e.fetchTriggerPreHookFunction,s=e.key;checkFunctionObjectAndCallWithParams(a,[s,n]),t.postMessage({url:n,method:r,makeUnique:o,sendHeadersOnly:i})}fetchTriggersUrlCollection=[]},nvMouseMovementOrTouchHandler=function(){document.removeEventListener("mousemove",nvMouseMovementOrTouchHandler,!1),document.removeEventListener("touchstart",nvMouseMovementOrTouchHandler,!1),document.removeEventListener("keydown",nvMouseMovementOrTouchHandler,!1),document.removeEventListener("mousedown",nvMouseMovementOrTouchHandler,!1),document.removeEventListener("pointerdown",nvMouseMovementOrTouchHandler,!1),document.removeEventListener("scroll",nvMouseMovementOrTouchHandler,!1),mouseOrTouchDetected=!0,isHeadless()||(processFetchTriggerEventsHandler(),processMergeTriggerEventsHandler())},lookupNextMouseMoveOrTouchEvent=function(){mouseOrTouchDetected=!1,document.addEventListener("mousemove",nvMouseMovementOrTouchHandler,!1),document.addEventListener("touchstart",nvMouseMovementOrTouchHandler,!1),document.addEventListener("keydown",nvMouseMovementOrTouchHandler,!1),document.addEventListener("mousedown",nvMouseMovementOrTouchHandler,!1),document.addEventListener("pointerdown",nvMouseMovementOrTouchHandler,!1),document.addEventListener("scroll",nvMouseMovementOrTouchHandler,!1)};lookupNextMouseMoveOrTouchEvent();const wait=e=>new Promise(t=>setTimeout(t,e)),retryOperation=(e,t,n)=>new Promise((r,o)=>e().then(r).catch(i=>n-1>0?wait(t).then(retryOperation.bind(null,e,t,n-1)).then(r).catch(o):o(i)));function getAndMergeContent(e,t,n,r,o,i,a,s,c,g,l,d,u,m,h,v){checkFunctionObjectAndCallWithParams(c,[n,e,v]),mergeProgressivelyRenderedContentinDOM(v.data,t,n,h),checkFunctionObjectAndCallWithParams(l,[n,e])}function handleProgressivelyRenderingUsingAjaxWorker(e,t,n,r,o,i,a,s,c,g,l,d="GET",u=!1,m=!1,h="html"){if(!isHeadless()){var v=new Worker(ajaxworker_path);if(v.onmessage=function(v){if(checkFunctionObjectAndCallWithParams(g,[n,e]),"now"===o)logInfo("merging now."),getAndMergeContent(e,t,n,r,o,i,a,s,c,g,l,d,u,m,h,v);else if("motionDetected"===o&&mouseOrTouchDetected)logInfo("merging motionDetected."),getAndMergeContent(e,t,n,r,o,i,a,s,c,g,l,d,u,m,h,v);else if("timeDelay"===o&&i>=0)setTimeout(function(){logInfo("merging timeDelay "+i),getAndMergeContent(e,t,n,r,o,i,a,s,c,g,l,d,u,m,h,v)},i);else if("serviceWorkerActivated"===o)"serviceWorker"in navigator?retryOperation(function(){return new Promise(function(f,p){navigator.serviceWorker.getRegistrations().then(function(y){for(let p of y)if(p.active&&p.active.scriptURL.includes("n7sw.js")&&"activated"===p.active.state)return logInfo("merging serviceWorkerActivated."),getAndMergeContent(e,t,n,r,o,i,a,s,c,g,l,d,u,m,h,v),void f("merge trigger executed for serviceWorker");p("no registrations found")})})},200,10).then(logInfo).catch(logInfo):(logInfo("merging now as browser doesn't support the service worker."),getAndMergeContent(e,t,n,r,o,i,a,s,c,g,l,d,u,m,h,v));else if("motionDetected"===o){var f={};f.progressivelyRenderingURL=e,f.HtmlBindIDs=t,f.key=n,f.data=v.data,f.mergeTriggerPreHookFunction=c,f.mergeTriggerPostHookFunction=l,f.dataType=h,mergeTriggersEventDataCollection.push(f)}},"now"===r)checkFunctionObjectAndCallWithParams(s,[n,e]),v.postMessage({url:e,method:d||"GET",makeUnique:u||!1,sendHeadersOnly:m||!1});else if("motionDetected"===r&&mouseOrTouchDetected)checkFunctionObjectAndCallWithParams(s,[n,e]),v.postMessage({url:e,method:d||"GET",makeUnique:u||!1,sendHeadersOnly:m||!1});else if("timeDelay"===r&&a>=0)setTimeout(function(){checkFunctionObjectAndCallWithParams(s,[n,e]),v.postMessage({url:e,method:d||"GET",makeUnique:u||!1,sendHeadersOnly:m||!1})},a);else if("motionDetected"===r){logInfo("will fetch later.");var f={};f.key=n,f.ajaxWorker=v,f.progressivelyRenderingURL=e,f.method=d,f.makeUnique=u,f.sendHeadersOnly=m,f.fetchTriggerPreHookFunction=s,f.fetchTriggerPostHookFunction=g,fetchTriggersUrlCollection.push(f)}}}function getUpdatedPRDestinationPath(e){var t=window.location,n=location.pathname,r=location.search;return e.includes("$currLocationPath")&&(e=e.replace("$currLocationPath",n)+r),e.includes("$currLocationQuery")&&(e=n+e.replace("$currLocationQuery",r)),e.includes("$currLocation")&&(e=e.replace("$currLocation",t)),logInfo("updated PR destination-url : ["+(e=e.replace(/^\/\//,"/"))+"]"),e}function documentOnReady(){documentReadyEventListenerAdded&&document.removeEventListener("DOMContentLoaded",documentOnReady);var e=getAllElementsWithAttribute("[data-nv-name]"),t={},n=[],r=[];for(let n=0;n<e.length;n++){var o="now",i="now",a="0",s="0",c="",g="",l="",d="",u=e[n].getAttribute("id"),m=e[n].getAttribute("data-nv-url"),h=e[n].getAttribute("data-nv-method"),v="true"===e[n].getAttribute("data-nv-makeUnique"),f="true"===e[n].getAttribute("data-nv-sendHeadersOnly"),p=e[n].getAttribute("data-nv-data-type");(m.includes("$currLocationPath")||m.includes("$currLocationQuery")||m.includes("$currLocation"))&&(m=getUpdatedPRDestinationPath(m)),o=e[n].getAttribute("data-nv-fetch-trigger")||o,i=e[n].getAttribute("data-nv-merge-trigger")||i,s=e[n].getAttribute("data-nv-fetch-trigger-time-delay")||s,a=e[n].getAttribute("data-nv-merge-trigger-time-delay")||a,c=e[n].getAttribute("data-nv-fetch-trigger-pre-hook")||c,g=e[n].getAttribute("data-nv-merge-trigger-pre-hook")||g,l=e[n].getAttribute("data-nv-fetch-trigger-post-hook")||l,d=e[n].getAttribute("data-nv-merge-trigger-post-hook")||d,"html"==p||"javascript"==p?(t[u]={},t[u].url=m,t[u].dataType=p,t[u].method=h,t[u].makeUnique=v,t[u].sendHeadersOnly=f,t[u].fetchTrigger=o,t[u].mergeTrigger=i,t[u].mergeTriggerTimeDelay=a,t[u].fetchTriggerTimeDelay=s,t[u].fetchTriggerPreHookFunction=c,t[u].mergeTriggerPreHookFunction=g,t[u].fetchTriggerPostHookFunction=l,t[u].mergeTriggerPostHookFunction=d):logInfo("INVALID OR NO DATA TYPE")}for(var u in t)r.push(u),n.indexOf(t[u].url)>-1||(n.push(t[u].url),handleProgressivelyRenderingUsingAjaxWorker(t[u].url,r,u,t[u].fetchTrigger,t[u].mergeTrigger,t[u].mergeTriggerTimeDelay,t[u].fetchTriggerTimeDelay,t[u].fetchTriggerPreHookFunction,t[u].mergeTriggerPreHookFunction,t[u].fetchTriggerPostHookFunction,t[u].mergeTriggerPostHookFunction,t[u].method,t[u].makeUnique,t[u].sendHeadersOnly,t[u].dataType))}function ready(e){"loading"!=document.readyState?e():(documentReadyEventListenerAdded=!0,document.addEventListener("DOMContentLoaded",e))}function predownloadFile(e,t){var n=new Worker(ajaxworker_path);n.onmessage=function(e){t&&t(e.data)},n.postMessage({url:e,method:"GET",makeUnique:!1,sendHeadersOnly:!1})}async function fetchFile(e,t){try{fetch(e).then(e=>e.json()).then(e=>t(e))}catch(e){logInfo(e)}}document.addEventListener("DOMContentLoaded",function(){isDOMAlreadyLoaded=!0,ready(documentOnReady)},!1);
//# sourceMappingURL=n7-base.min.js.map