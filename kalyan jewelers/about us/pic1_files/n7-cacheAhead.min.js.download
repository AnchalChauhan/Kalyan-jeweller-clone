/*! Fri Dec 24 2021 05:02:33 */

var cacheAheadAPI="/cacheAheadUrls/",n7DEBUG=!0;function logInfoC(){n7DEBUG&&console.debug.apply(null,arguments)}function logWarnC(){console.warn.apply(null,arguments)}function logErrorC(){console.error.apply(null,arguments)}function n7LogsOff(){logInfoC("logs-off"),n7DEBUG=!1}function getAllElementsWithAttribute(e){return document.querySelectorAll(e)}function insertLinkInPage(e,n,r,t,a){var o=document.getElementsByTagName("head")[0],c=document.createElement("link");if(null!=e&&(c.rel=e),c.href=n,null!=r&&(c.as=r),null!=t&&(c.media=t),null!=a)for(var l=0;l<a.length;l++)for(var h in a[l])a[l].hasOwnProperty(h)&&(c[h]=a[l][h]);o.appendChild(c)}async function cacheResponseForUrlsToCacheName(e,n){if([0,200].includes(e.status)){return(await caches.open(n)).put(e.url,e),!0}return!1}async function cacheUrlsSetup(e){if(e&&e.length>0)for(var n=0;n<e.length;n++){const t=e[n];var r=await fetch(t);await cacheResponseForUrlsToCacheName(r,"nv-cache-ahead")}}async function prefetchUrls(e){e&&e.length>0&&e.forEach(e=>{insertLinkInPage("prefetch",e,"document",null)})}async function parseUrlsForPrefetch(e){var n=window.location.href,r=[],t=e.filter(function(e){return RegExp(e.location).test(n)});if(t&&t.length>0)for(var a=0;a<t.length;a++)r=t[a].cacheAheadUrls,await prefetchUrls(r)}async function callApiAndPrefetchCacheAheadUrls(){try{var e=await fetch(cacheAheadAPI),n=await e.json();await parseUrlsForPrefetch(n)}catch(e){logErrorC(e)}}function getCacheAheadUrls(){callApiAndPrefetchCacheAheadUrls().then(function(e){return!0})}var nvUserInteractionHandlerForCacheAhead=function(){document.removeEventListener("mousemove",nvUserInteractionHandlerForCacheAhead,!1),document.removeEventListener("touchstart",nvUserInteractionHandlerForCacheAhead,!1),document.removeEventListener("keydown",nvUserInteractionHandlerForCacheAhead,!1),document.removeEventListener("mousedown",nvUserInteractionHandlerForCacheAhead,!1),document.removeEventListener("pointerdown",nvUserInteractionHandlerForCacheAhead,!1),getCacheAheadUrls()};document.addEventListener("mousemove",nvUserInteractionHandlerForCacheAhead,!1),document.addEventListener("touchstart",nvUserInteractionHandlerForCacheAhead,!1),document.addEventListener("keydown",nvUserInteractionHandlerForCacheAhead,!1),document.addEventListener("mousedown",nvUserInteractionHandlerForCacheAhead,!1),document.addEventListener("pointerdown",nvUserInteractionHandlerForCacheAhead,!1);
//# sourceMappingURL=n7-cacheAhead.min.js.map